<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <%- include ('../partials/head.ejs') %>
    <title></title>
  </head>
  <body>
    <%- include ('../partials/navbar.ejs') %>
    <h1 class="show-title">Edit <%=task.name%></h1>
    <form  action="/home/<%=task.id%>?_method=PUT" method="POST">
      <div class="d-flex flex-column align-items-start edit-container">
        <div class="edit-flex-item">
          Name: <input type="text" name="name" value="<%=task.name%>" ><br>
        </div>
        <div class="edit-flex-item">
          Engineer: <select name="engineerId">
            <% for (let i = 0; i < engineers.length; i++) { %>
              <option
                value="<%=engineers[i]._id%>"
                <% if (engineers[i]._id.toString() === taskEngineer._id.toString()) { %>
                  selected
                <% } %>
                >
                <%=engineers[i].name%>
              </option>
            <% } %>
          </select><br>
        </div>
        <div class="edit-flex-item">
          Due Date: <input type="date" name="dueDate" value="<%=task.dueDate%>"><br>
        </div>
        <div class="edit-flex-item">
          Color: <input type="color" name="color" value="<%=task.color%>"><br>
        </div>
        <div class="edit-flex-item">
          <div class="radio-container">
            Importance:
            <input type="radio" id="importanceChoice1" name="importance" value="Top" <% if(task.importance === 'Top') { %> checked <% } %> >Top
            <input type="radio" id="importanceChoice2" name="importance" value="Moderate" <% if(task.importance === 'Moderate') { %> checked <% } %>>Moderate
            <input type="radio" id="importanceChoice3" name="importance" value="Low" <% if(task.importance === 'Low') { %> checked <% } %>>Low
          </div>
        </div>
        <div class="d-flex flex-column align-items-start edit-flex-item">
          <p class="description-label">Description: </p>
          <textarea rows="2" cols="50" name="description" ><%=task.description%></textarea><br>
        </div>
        <div class="edit-flex-item">
          Completed: <input type="checkbox" name="completed"  ><br>
        </div>
        <div class="edit-flex-item">
          <button type="submit" class="btn btn-success">Submit Changes</button>
        </div>
      </div>
    </form>
    <%- include ('../partials/footer.ejs') %>
  </body>
</html>
